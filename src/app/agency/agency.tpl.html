<div id="agency-table">
  <header class=" relative cover overflow-hidden white-text search-banner" data-ui-component="header-area">
    <div class="container-fluid">
      <div>
        <div class="col-12 left mt4 ml4 mb4">
          <a ui-sref="home"><img src="assets/logo-main.png">
          </a>
        </div>
      </div>
    </div>
  </header>

  <div class="white-background" ncy-breadcrumb></div>

  <div ng-controller="AgencyCtrl as agencyCtrl" class="m2" style="min-height:400px">

    <div class="relative center"
      cg-busy="{promise:agencyCtrl.agency_promise,templateUrl:'loading_msg.html',delay:30}"></div>
    <table ng-if="::agencyCtrl.adopted.department" class="noborder-top grey-border">
      <thead>
        <tr>
          <th colspan="8" class="blue-background-md grey-border p2-bottom p2-right p2-left">

            <div class="left">
              <H1 class="bold lh05">{{::agencyCtrl.adopted.department}}</H1>
              <a class="lh05" href="http://{{::agencyCtrl.adopted.website}}" target="_blank">{{::agencyCtrl.adopted.website}}</a>
            </div>
            <div class="right">
              <H4 class="bold">Department Contact:</H4>
              <div class="regular">{{::agencyCtrl.adopted.contact}}</div>
              <a href="mailto:{{::agencyCtrl.adopted.email}}" class="regular">{{::agencyCtrl.adopted.email}}</a>
              <div class="regular">{{::agencyCtrl.adopted.phone}}</div>
            </div>
          </th>
        </tr>
        <tr>
          <th class="p3-top">
            <div class="md-group">
              <input id="category" floating type="text" ng-model="::agencyCtrl.category_fltr">
              <span class="highlight"></span>
              <span class="bar"></span>
              <label class="floating-label"><i class="fa fa-filter"></i>Category</label>
            </div>
            <i href="" class="fa fa-sort-alpha-asc right pointer mt2" ng-click="predicate = 'category'; reverse=!reverse"></i>
          </th>
          <th class="p3-top">
            <div class="md-group">
              <input  id="title" floating type="text" ng-model="::agencyCtrl.title_fltr">
              <span class="highlight"></span>
              <span class="bar"></span>
              <label class="floating-label"><i class="fa fa-filter"></i>Title</label>
            </div>

            <i href="" class="fa fa-sort-alpha-asc right pointer mt2" ng-click="predicate = 'title'; reverse=!reverse"></i>
          </th>
          <th class="p3-top">
            <div class="md-group">
              <input id="division" floating type="text" ng-model="::agencyCtrl.division_fltr">
              <span class="highlight"></span>
              <span class="bar"></span>
              <label class="floating-label"><i class="fa fa-filter"></i>Division</label>
            </div>
            <i href="" class="fa fa-sort-alpha-asc right pointer mt2" ng-click="predicate = 'division'; reverse=!reverse"></i>
          </th>
          <th class="p3-top">
            <div class="md-group">
              <input id="remarks" floating type="text" ng-model="::agencyCtrl.remarks_fltr">
              <span class="highlight"></span>
              <span class="bar"></span>
              <label class="floating-label"><i class="fa fa-filter"></i>Remarks</label>
            </div>
            <i href="" class="fa fa-sort-alpha-asc right pointer mt2" ng-click="predicate = 'remarks'; reverse=!reverse"></i>
          </th>
          <th class="p3-top">
            <div class="md-group">
              <input id="retention" floating type="text" ng-model="::agencyCtrl.retention_fltr">
              <span class="highlight"></span>
              <span class="bar"></span>
              <label class="floating-label"><i class="fa fa-filter"></i>Retention</label>
            </div>
            <i href="" class="fa fa-sort-alpha-asc right pointer mt2" ng-click="predicate = 'retention'; reverse=!reverse"></i>
          </th>
          <th class="p3-top">
            <div class="md-group">
              <input id="on_site" floating type="text"  ng-model="::agencyCtrl.on_site_fltr">
              <span class="highlight"></span>
              <span class="bar"></span>
              <label class="floating-label"><i class="fa fa-filter"></i>On Site</label>
            </div>
            <i href="" class="fa fa-sort-alpha-asc right pointer mt2" ng-click="predicate = 'on_site'; reverse=!reverse"></i>
          </th>
          <th class="p3-top">
            <div class="md-group">
              <input id="off_site" floating type="text" ng-model="::agencyCtrl.off_site_fltr">
              <span class="highlight"></span>
              <span class="bar"></span>
              <label class="floating-label"><i class="fa fa-filter"></i>Off Site</label>
            </div>
            <i href="" class="fa fa-sort-alpha-asc right pointer mt2" ng-click="predicate = 'off_site'; reverse=!reverse"></i>
          </th>
          <th class="p3-top">
            <div class="md-group">
              <input id="total" floating type="text" ng-model="::agencyCtrl.total_fltr">
              <span class="highlight"></span>
              <span class="bar"></span>
              <label class="floating-label"><i class="fa fa-filter"></i>Total</label>
            </div>
            <i href="" class="fa fa-sort-alpha-asc right pointer mt2" ng-click="predicate = 'total'; reverse=!reverse"></i>
          </th>
        </tr>
        <tr>
          <th class="right-align" colspan="8">
            <a class="px1 regular" ui-sref="agency_list({schedule_id:'{{::agencyCtrl.schedule_id}}'})">list view</a>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="record in agencyCtrl.records | orderBy:predicate:reverse
                                                  | filter : {category: agencyCtrl.category_fltr,
                                                  title: agencyCtrl.title_fltr,
                                                  division: agencyCtrl.division_fltr,
                                                  remarks:agencyCtrl.remarks_fltr,
                                                  retention: agencyCtrl.retention_fltr,
                                                  on_site: agencyCtrl.on_site_fltr,
                                                  off_site: agencyCtrl.off_site_fltr,
                                                  total: agencyCtrl.total_fltr}"
                                                  ng-class-odd="'grey-background'" ng-class="'grey-border'">
          <td class="p1 grey-border">{{::record.category}}</td>
          <td class="p1 grey-border">{{::record.title}}</td>
          <td class="p1 grey-border">{{::record.division}}</td>
          <td class="p1 grey-border">{{::record.remarks}}</td>
          <td class="p1 grey-border">{{::record.retention}}</td>
          <td class="p1 grey-border">{{::record.on_site}}</td>
          <td class="p1 grey-border">{{::record.off_site}}</td>
          <td class="p1">{{::record.total}}</td>
        </tr>
      </tbody>
    </table>
    </br>
  </div>
</div>
